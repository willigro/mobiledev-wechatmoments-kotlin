//package com.tws.moments.views
//
//import android.content.Context
//import android.graphics.Bitmap
//import android.util.AttributeSet
//import android.view.View
//import androidx.appcompat.widget.AppCompatImageView
//
//internal class SingleImageView @JvmOverloads constructor(
//    context: Context,
//    attrs: AttributeSet? = null,
//    defStyle: Int = 0
//) : AppCompatImageView(context, attrs, defStyle) {
//
//    private var imageWidth = 0
//
//    override fun setImageBitmap(bm: Bitmap?) {
//        super.setImageBitmap(bm)
//        if (bm == null) return
//        if (layoutParams == null) return
//        addOnLayoutChangeListener(object : OnLayoutChangeListener {
//            override fun onLayoutChange(
//                v: View?,
//                left: Int,
//                top: Int,
//                right: Int,
//                bottom: Int,
//                oldLeft: Int,
//                oldTop: Int,
//                oldRight: Int,
//                oldBottom: Int
//            ) {
//                removeOnLayoutChangeListener(this)
//                imageWidth = (measuredHeight * bm.width * 1f / bm.height).toInt()
//            }
//        })
//    }
//
//}
